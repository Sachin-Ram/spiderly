<ng-container *transloco="let t">
  <div class="flex flex-column gap-2">
    <div *ngIf="getTranslatedLabel() != '' && getTranslatedLabel() != null">
      <label>{{getTranslatedLabel()}}</label>
      <required *ngIf="control?.required"></required>
    </div>
  
    <p-inputgroup>
      <p-autocomplete
      *ngIf="control"
      [pTooltip]="getValidationErrrorMessages()" [tooltipEvent]="errorMessageTooltipEvent" tooltipPosition="bottom" [tooltipDisabled]="control.valid" tooltipStyleClass="spiderly-tooltip-invalid"
      [id]="label"
      [formControl]="control"
      [placeholder]="placeholder"
      [suggestions]="options"
      optionLabel="label"
      optionValue="code"
      (completeMethod)="search($event)"
      [forceSelection]="true"
      [dropdown]="false"
      [showClear]="showClear"
      (onHide)="dropdownMarkAsDirty()"
      (onSelect)="select($event)"
      [completeOnFocus]="true"
      [style]="{'width': '100%'}"
      [fluid]="true"
      [appendTo]="appendTo"
      [emptyMessage]="emptyMessage"
      [lazy]="true"
      />
      <p-inputgroup-addon *ngIf="showAddon" (click)="addonClick()" [style]="{'cursor': 'pointer', 'background-color': 'var(--p-primary-color)', 'border-color': 'var(--p-primary-color)'}">
        <i class="{{addonIcon}}" style="color: #fff;"></i>
      </p-inputgroup-addon>
    </p-inputgroup>
  </div>
</ng-container>